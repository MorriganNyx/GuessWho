<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="students.css">

    <title>GuessWho</title>
</head>

<body>
    <header>
        <div class="logo">
            <img src="/image/Logo.png" alt="">
        </div>
        <div class="navbar">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="search.html">Search</a></li>
                <li><a href="students.html">Students</a></li>
            </ul>
        </div>
    </header>
    <main>
        <div class="main">
            <h1>Student Directory</h1>
            <div class="grid" id="studentGrid"></div>
        </div>
        <div id="imgModal" class="modal">
            <span class="close">&times;</span>
            <img class="modal-content" id="modalImage">
        </div>


    </main>
    <footer></footer>
    <script>
        fetch("data.json")
            .then(response => response.json())
            .then(students => {
                const grid = document.getElementById("studentGrid");

                shuffle(students).forEach(student => {
                    let card = document.createElement("div");
                    card.classList.add("card");

                    card.innerHTML = `
            <img src="${student.Photo}" alt="${student.Name}" class="student-img">
            <div class="name">${student.Name}</div>
          `;

                    grid.appendChild(card);
                });

                const modal = document.getElementById("imgModal");
                const modalImg = document.getElementById("modalImage");
                const closeBtn = document.querySelector(".close");

                document.querySelectorAll(".student-img").forEach(img => {
                    img.addEventListener("click", function () {
                        modal.style.display = "block";
                        modalImg.src = this.src;
                    });
                });

                closeBtn.onclick = function () {
                    modal.style.display = "none";
                };

                modal.onclick = function (e) {
                    if (e.target === modal) {
                        modal.style.display = "none";
                    }
                };

            });





        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
    </script>
</body>

</html>